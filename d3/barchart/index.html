<!DOCTYPE html>
<!-- we are using html 5 -->

<head>
<meta charset="utf-8">

<title>Letter Count Bar Chart</title>

<!-- this allows us to use the non-standard Roboto web font -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300italic" rel="stylesheet" type="text/css">

<!-- this is our custom css stylesheet -->
<link href="style.css" rel="stylesheet" type="text/css">
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
</head>

<body>
  <a href="/"> Back to home </a>
<h1> Airlines' Passenger Count from Asia </h1>


<!-- we will place our visualization in this svg using d3.js -->
<svg></svg>

<!-- include d3.js v5 -->
<script src="https://d3js.org/d3.v5.min.js"></script>

<!-- include d3.js modules -->
<script src="https://d3js.org/d3-array.v2.min.js"></script>

<!-- Call jquery csv script -->
<script src="jquery-csv.js"></script>


<!-- include custom javascript -->
<script src="count.js"></script>
<script src="chart.js"></script>

<!-- here is our core javascript -->
<script type="text/javascript">
// inside the script tag, // and /* */ are comments
// outside the script tag, <!-- --> are comments

// creating a global variable to hold our axis and scales
let chart = {};


// let horizontal = "United Airlines - Pre 07/01/2013, United Airlines, Cathay Pacific, EVA Airways, Singapore Airlines, Philippine Airlines, China Airlines, Air China, Korean Air Lines, All Nippon Airways, Japan Airlines, Asiana Airlines, China Eastern, China Southern, Northwest Airlines, Air India Limited, Delta Airlines, Hong Kong Airlines Limited, Jet Airways, Swissport USA, Evergreen International Airways".split(",");

/* try the library */
textToParse = d3.text("air-traffic-data.csv").then(text => {
  $.csv.toArrays(text, {}, function (err, data) {
    if (err) { console.log(err); }
    /* do stuff with data here */
    let map = countPassengersPerAirline(data);
    drawBarChart(map)

  });
})
</script>

</body>
